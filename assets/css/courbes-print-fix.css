
/* courbes-print-fix.css — correctif impression (PDF) pour les thèmes "courbes"
   Objectif : réduire la taille des repères/courbes en PDF pour laisser apparaître les questions + contexte.
   Intégration : <link rel="stylesheet" href="courbes-print-fix.css">
*/

/* Sécurité de base : rien ne change à l'écran */
@media screen {
  .mh-print-only { display: none !important; }
}

/* Règles dédiées à l'impression (PDF) */
@media print {

  /* 1) Empêcher les gros SVG/Canvas de prendre toute la page */
  svg, canvas {
    /* largeur cible ~ 8–9 cm : ajuste si besoin */
    max-width: 9cm !important;
    max-height: 6.5cm !important;
    width: auto !important;
    height: auto !important;
  }

  /* 2) Boîtes de repères/courbes : ne pas forcer 100% */
  .graph, .repere, .repere-wrap, .graph-wrap, .plot, .plot-wrap, figure, .figure, .svg-host {
    max-width: 9.2cm !important;
    width: auto !important;
    height: auto !important;
  }

  /* 3) Affichage compact : le texte d'énoncé avant le repère,
        puis le repère à la suite (pas de page break entre les deux) */
  .enonce, .question, .consigne, .texte-enonce {
    page-break-after: avoid;
    break-after: avoid;
    margin-bottom: .35cm !important;
  }

  /* 4) Éviter que l'exercice se coupe en plein milieu */
  .exo, .exercice, .item-exo, .bloc-exo {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* 5) Mettre texte + repère sur la même ligne quand possible */
  .enonce-plus-graphe, .ligne-enonce-graphe, .exo header + .graph, .exo .enonce + .graph {
    display: inline-block !important;
    vertical-align: top !important;
  }

  /* 6) Marges latérales fines autour du repère (respire mais n'envahit pas) */
  .graph, .repere, figure, .figure, .plot, .plot-wrap {
    margin: 0 .3cm .25cm 0 !important;
  }

  /* 7) Éviter les agrandissements involontaires sur certains thèmes */
  .graph svg, .repere svg, .plot svg {
    transform: none !important;
    scale: 1 !important;
  }

  /* 8) Si des classes de "mode correction" grossissent les repères, on neutralise */
  .solution .graph svg,
  .correction .graph svg,
  .solution .repere svg,
  .correction .repere svg {
    transform: none !important;
    scale: 1 !important;
  }

  /* 9) Lisibilité des graduations (optionnel) : petit gain de graisse */
  .axis text, .graduation, .tick text, .label, .axe text {
    font-weight: 600;
  }
}
